$exeFiles = Get-ChildItem -Path "C:\path\to\directory" -Filter *.exe
$totalExeFiles = $exeFiles.Count
$terminatedExeFiles = 0

foreach ($exe in $exeFiles) {
    Start-Process -FilePath $exe.FullName -Wait
    while (Get-Process -Name $exe.Name.Replace(".exe", "") -ErrorAction SilentlyContinue) {
        Start-Sleep -Seconds 1
    }
    if (-not (Get-Process -Name $exe.Name.Replace(".exe", "") -ErrorAction SilentlyContinue)) {
        $terminatedExeFiles++
    }
}

$percentageTerminated = ($terminatedExeFiles / $totalExeFiles) * 100

Write-Host "Percentage of exe files where the process was terminated: $percentageTerminated%"
